{
  "id": "db151e2c-751a-474c-92fe-2237da939df9",
  "prevId": "e7a9479f-b4bc-4332-bd9d-80ecf46b5ab4",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ai_character_custom_fields": {
      "name": "ai_character_custom_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "field_key": {
          "name": "field_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'text'"
        },
        "placeholder": {
          "name": "placeholder",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required": {
          "name": "required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_character_custom_fields_character_id_characters_id_fk": {
          "name": "ai_character_custom_fields_character_id_characters_id_fk",
          "tableFrom": "ai_character_custom_fields",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_character_field_responses": {
      "name": "ai_character_field_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ice_preview_id": {
          "name": "ice_preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "field_id": {
          "name": "field_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "viewer_session_id": {
          "name": "viewer_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "viewer_display_name": {
          "name": "viewer_display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewer_user_id": {
          "name": "viewer_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_character_field_responses_ice_preview_id_ice_previews_id_fk": {
          "name": "ai_character_field_responses_ice_preview_id_ice_previews_id_fk",
          "tableFrom": "ai_character_field_responses",
          "tableTo": "ice_previews",
          "columnsFrom": [
            "ice_preview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_character_field_responses_character_id_characters_id_fk": {
          "name": "ai_character_field_responses_character_id_characters_id_fk",
          "tableFrom": "ai_character_field_responses",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_character_field_responses_field_id_ai_character_custom_fields_id_fk": {
          "name": "ai_character_field_responses_field_id_ai_character_custom_fields_id_fk",
          "tableFrom": "ai_character_field_responses",
          "tableTo": "ai_character_custom_fields",
          "columnsFrom": [
            "field_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_character_field_responses_viewer_user_id_users_id_fk": {
          "name": "ai_character_field_responses_viewer_user_id_users_id_fk",
          "tableFrom": "ai_character_field_responses",
          "tableTo": "users",
          "columnsFrom": [
            "viewer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_usage_events": {
      "name": "ai_usage_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usage_type": {
          "name": "usage_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credits_used": {
          "name": "credits_used",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_usage_events_profile_id_creator_profiles_id_fk": {
          "name": "ai_usage_events_profile_id_creator_profiles_id_fk",
          "tableFrom": "ai_usage_events",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alignments": {
      "name": "alignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alignments_orbit_id_orbit_meta_id_fk": {
          "name": "alignments_orbit_id_orbit_meta_id_fk",
          "tableFrom": "alignments",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alignments_user_id_users_id_fk": {
          "name": "alignments_user_id_users_id_fk",
          "tableFrom": "alignments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "alignments_orbit_id_user_id_unique": {
          "name": "alignments_orbit_id_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "orbit_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_connections": {
      "name": "api_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_secret_id": {
          "name": "auth_secret_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_connections_orbit_slug_orbit_meta_business_slug_fk": {
          "name": "api_connections_orbit_slug_orbit_meta_business_slug_fk",
          "tableFrom": "api_connections",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_connections_auth_secret_id_api_secrets_id_fk": {
          "name": "api_connections_auth_secret_id_api_secrets_id_fk",
          "tableFrom": "api_connections",
          "tableTo": "api_secrets",
          "columnsFrom": [
            "auth_secret_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_curated_items": {
      "name": "api_curated_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "connection_id": {
          "name": "connection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint_id": {
          "name": "endpoint_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_version": {
          "name": "snapshot_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "indexed_at": {
          "name": "indexed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_curated_items_snapshot_id_api_snapshots_id_fk": {
          "name": "api_curated_items_snapshot_id_api_snapshots_id_fk",
          "tableFrom": "api_curated_items",
          "tableTo": "api_snapshots",
          "columnsFrom": [
            "snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_curated_items_connection_id_api_connections_id_fk": {
          "name": "api_curated_items_connection_id_api_connections_id_fk",
          "tableFrom": "api_curated_items",
          "tableTo": "api_connections",
          "columnsFrom": [
            "connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_curated_items_endpoint_id_api_endpoints_id_fk": {
          "name": "api_curated_items_endpoint_id_api_endpoints_id_fk",
          "tableFrom": "api_curated_items",
          "tableTo": "api_endpoints",
          "columnsFrom": [
            "endpoint_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_endpoints": {
      "name": "api_endpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "connection_id": {
          "name": "connection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "params": {
          "name": "params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_mapping": {
          "name": "response_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pagination_config": {
          "name": "pagination_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_endpoints_connection_id_api_connections_id_fk": {
          "name": "api_endpoints_connection_id_api_connections_id_fk",
          "tableFrom": "api_endpoints",
          "tableTo": "api_connections",
          "columnsFrom": [
            "connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_secrets": {
      "name": "api_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_value": {
          "name": "encrypted_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_type": {
          "name": "auth_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "rotated_at": {
          "name": "rotated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_secrets_orbit_slug_orbit_meta_business_slug_fk": {
          "name": "api_secrets_orbit_slug_orbit_meta_business_slug_fk",
          "tableFrom": "api_secrets",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_snapshots": {
      "name": "api_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "endpoint_id": {
          "name": "endpoint_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "connection_id": {
          "name": "connection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "request_hash": {
          "name": "request_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_payload_ref": {
          "name": "raw_payload_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_payload_preview": {
          "name": "raw_payload_preview",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_snapshots_endpoint_id_api_endpoints_id_fk": {
          "name": "api_snapshots_endpoint_id_api_endpoints_id_fk",
          "tableFrom": "api_snapshots",
          "tableTo": "api_endpoints",
          "columnsFrom": [
            "endpoint_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_snapshots_connection_id_api_connections_id_fk": {
          "name": "api_snapshots_connection_id_api_connections_id_fk",
          "tableFrom": "api_snapshots",
          "tableTo": "api_connections",
          "columnsFrom": [
            "connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_snapshots_endpoint_id_request_hash_unique": {
          "name": "api_snapshots_endpoint_id_request_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "endpoint_id",
            "request_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audio_tracks": {
      "name": "audio_tracks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "artist": {
          "name": "artist",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'upload'"
        },
        "licence": {
          "name": "licence",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Royalty Free'"
        },
        "licence_url": {
          "name": "licence_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attribution_required": {
          "name": "attribution_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "attribution_text": {
          "name": "attribution_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mood_tags": {
          "name": "mood_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "genre_tags": {
          "name": "genre_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audio_tracks_created_by_user_id_users_id_fk": {
          "name": "audio_tracks_created_by_user_id_users_id_fk",
          "tableFrom": "audio_tracks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_ip": {
          "name": "user_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "old_value": {
          "name": "old_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_audit_logs": {
      "name": "billing_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_event_id": {
          "name": "stripe_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checkout_session_id": {
          "name": "checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_id": {
          "name": "price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_amount_cents": {
          "name": "expected_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_amount_cents": {
          "name": "stripe_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "discount_amount_cents": {
          "name": "discount_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status_before": {
          "name": "status_before",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_after": {
          "name": "status_after",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "billing_audit_logs_user_id_users_id_fk": {
          "name": "billing_audit_logs_user_id_users_id_fk",
          "tableFrom": "billing_audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.blog_posts": {
      "name": "blog_posts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_markdown": {
          "name": "content_markdown",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_html": {
          "name": "content_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hero_image_url": {
          "name": "hero_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hero_alt": {
          "name": "hero_alt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hero_caption": {
          "name": "hero_caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cta_primary_label": {
          "name": "cta_primary_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cta_primary_url": {
          "name": "cta_primary_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cta_secondary_label": {
          "name": "cta_secondary_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cta_secondary_url": {
          "name": "cta_secondary_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "author": {
          "name": "author",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "canonical_url": {
          "name": "canonical_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_links": {
          "name": "internal_links",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "blog_posts_slug_unique": {
          "name": "blog_posts_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.card_characters": {
      "name": "card_characters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "card_characters_card_id_cards_id_fk": {
          "name": "card_characters_card_id_cards_id_fk",
          "tableFrom": "card_characters",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "card_characters_character_id_characters_id_fk": {
          "name": "card_characters_character_id_characters_id_fk",
          "tableFrom": "card_characters",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.card_media_assets": {
      "name": "card_media_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "media_type": {
          "name": "media_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'uploaded'"
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attribution": {
          "name": "attribution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alt_text": {
          "name": "alt_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relevance_score": {
          "name": "relevance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "card_media_assets_card_id_cards_id_fk": {
          "name": "card_media_assets_card_id_cards_id_fk",
          "tableFrom": "card_media_assets",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "card_media_assets_user_id_users_id_fk": {
          "name": "card_media_assets_user_id_users_id_fk",
          "tableFrom": "card_media_assets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.card_message_reactions": {
      "name": "card_message_reactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "anon_fingerprint": {
          "name": "anon_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_type": {
          "name": "reaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "card_message_reactions_message_id_card_messages_id_fk": {
          "name": "card_message_reactions_message_id_card_messages_id_fk",
          "tableFrom": "card_message_reactions",
          "tableTo": "card_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "card_message_reactions_user_id_users_id_fk": {
          "name": "card_message_reactions_user_id_users_id_fk",
          "tableFrom": "card_message_reactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.card_messages": {
      "name": "card_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "card_messages_card_id_cards_id_fk": {
          "name": "card_messages_card_id_cards_id_fk",
          "tableFrom": "card_messages",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "card_messages_user_id_users_id_fk": {
          "name": "card_messages_user_id_users_id_fk",
          "tableFrom": "card_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cards": {
      "name": "cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "season": {
          "name": "season",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "day_index": {
          "name": "day_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_path": {
          "name": "image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captions_json": {
          "name": "captions_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "scene_text": {
          "name": "scene_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recap_text": {
          "name": "recap_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "effect_template": {
          "name": "effect_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'ken-burns'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "publish_at": {
          "name": "publish_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "video_path": {
          "name": "video_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scene_description": {
          "name": "scene_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_generation": {
          "name": "image_generation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "generated_image_url": {
          "name": "generated_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_generated": {
          "name": "image_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "generated_video_url": {
          "name": "generated_video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_generated": {
          "name": "video_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "video_generation_task_id": {
          "name": "video_generation_task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_generation_mode": {
          "name": "video_generation_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_generation_status": {
          "name": "video_generation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'none'"
        },
        "video_generation_error": {
          "name": "video_generation_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_generation_model": {
          "name": "video_generation_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_thumbnail_url": {
          "name": "video_thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_duration_sec": {
          "name": "video_duration_sec",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "video_generated_at": {
          "name": "video_generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_media_type": {
          "name": "preferred_media_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'image'"
        },
        "primary_character_ids": {
          "name": "primary_character_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chat_overrides": {
          "name": "chat_overrides",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "narration_enabled": {
          "name": "narration_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "narration_text": {
          "name": "narration_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "narration_voice": {
          "name": "narration_voice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "narration_speed": {
          "name": "narration_speed",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "narration_status": {
          "name": "narration_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'none'"
        },
        "narration_audio_url": {
          "name": "narration_audio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "narration_audio_duration_sec": {
          "name": "narration_audio_duration_sec",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "narration_updated_at": {
          "name": "narration_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "narration_error": {
          "name": "narration_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cards_universe_id_universes_id_fk": {
          "name": "cards_universe_id_universes_id_fk",
          "tableFrom": "cards",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cards_location_id_locations_id_fk": {
          "name": "cards_location_id_locations_id_fk",
          "tableFrom": "cards",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.characters": {
      "name": "characters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_slug": {
          "name": "character_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secrets_json": {
          "name": "secrets_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "visual_profile": {
          "name": "visual_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "chat_profile": {
          "name": "chat_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_public_figure_simulation": {
          "name": "is_public_figure_simulation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_custom_character": {
          "name": "is_custom_character",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "knowledge_source_url": {
          "name": "knowledge_source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "knowledge_documents": {
          "name": "knowledge_documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "knowledge_content": {
          "name": "knowledge_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "training_status": {
          "name": "training_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'ready'"
        },
        "guardrails": {
          "name": "guardrails",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "characters_universe_id_universes_id_fk": {
          "name": "characters_universe_id_universes_id_fk",
          "tableFrom": "characters",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_messages_thread_id_chat_threads_id_fk": {
          "name": "chat_messages_thread_id_chat_threads_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chat_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_threads": {
      "name": "chat_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_threads_user_id_users_id_fk": {
          "name": "chat_threads_user_id_users_id_fk",
          "tableFrom": "chat_threads",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_threads_universe_id_universes_id_fk": {
          "name": "chat_threads_universe_id_universes_id_fk",
          "tableFrom": "chat_threads",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_threads_character_id_characters_id_fk": {
          "name": "chat_threads_character_id_characters_id_fk",
          "tableFrom": "chat_threads",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.checkout_transactions": {
      "name": "checkout_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "preview_id": {
          "name": "preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_checkout_session_id": {
          "name": "stripe_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'usd'"
        },
        "checkout_options": {
          "name": "checkout_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "checkout_transactions_user_id_users_id_fk": {
          "name": "checkout_transactions_user_id_users_id_fk",
          "tableFrom": "checkout_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "checkout_transactions_idempotency_key_unique": {
          "name": "checkout_transactions_idempotency_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "idempotency_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.community_links": {
      "name": "community_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "community_type": {
          "name": "community_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region_tags": {
          "name": "region_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "community_links_orbit_id_orbit_meta_id_fk": {
          "name": "community_links_orbit_id_orbit_meta_id_fk",
          "tableFrom": "community_links",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversation_insights": {
      "name": "conversation_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ice_preview_id": {
          "name": "ice_preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "top_topics": {
          "name": "top_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "common_questions": {
          "name": "common_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_insights": {
          "name": "engagement_insights",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actionable_recommendations": {
          "name": "actionable_recommendations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "conversation_count": {
          "name": "conversation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conversation_insights_ice_preview_id_ice_previews_id_fk": {
          "name": "conversation_insights_ice_preview_id_ice_previews_id_fk",
          "tableFrom": "conversation_insights",
          "tableTo": "ice_previews",
          "columnsFrom": [
            "ice_preview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.core_concepts": {
      "name": "core_concepts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "concept_id": {
          "name": "concept_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "why_it_matters": {
          "name": "why_it_matters",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "starter_questions": {
          "name": "starter_questions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "intent_tags": {
          "name": "intent_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "core_concepts_orbit_id_orbit_meta_id_fk": {
          "name": "core_concepts_orbit_id_orbit_meta_id_fk",
          "tableFrom": "core_concepts",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.creator_follows": {
      "name": "creator_follows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "follower_profile_id": {
          "name": "follower_profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "followed_profile_id": {
          "name": "followed_profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "creator_follows_follower_profile_id_creator_profiles_id_fk": {
          "name": "creator_follows_follower_profile_id_creator_profiles_id_fk",
          "tableFrom": "creator_follows",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "follower_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "creator_follows_followed_profile_id_creator_profiles_id_fk": {
          "name": "creator_follows_followed_profile_id_creator_profiles_id_fk",
          "tableFrom": "creator_follows",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "followed_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.creator_profile_links": {
      "name": "creator_profile_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "creator_profile_links_profile_id_creator_profiles_id_fk": {
          "name": "creator_profile_links_profile_id_creator_profiles_id_fk",
          "tableFrom": "creator_profile_links",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.creator_profiles": {
      "name": "creator_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "headline": {
          "name": "headline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_link": {
          "name": "external_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_id": {
          "name": "plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'inactive'"
        },
        "used_storage_bytes": {
          "name": "used_storage_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "storage_limit_bytes": {
          "name": "storage_limit_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 5368709120
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "creator_profiles_user_id_users_id_fk": {
          "name": "creator_profiles_user_id_users_id_fk",
          "tableFrom": "creator_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "creator_profiles_plan_id_plans_id_fk": {
          "name": "creator_profiles_plan_id_plans_id_fk",
          "tableFrom": "creator_profiles",
          "tableTo": "plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "creator_profiles_user_id_unique": {
          "name": "creator_profiles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "creator_profiles_slug_unique": {
          "name": "creator_profiles_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_events": {
      "name": "credit_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credit_type": {
          "name": "credit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_events_user_id_users_id_fk": {
          "name": "credit_events_user_id_users_id_fk",
          "tableFrom": "credit_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_wallets": {
      "name": "credit_wallets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "video_credits": {
          "name": "video_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "voice_credits": {
          "name": "voice_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credit_wallets_user_id_users_id_fk": {
          "name": "credit_wallets_user_id_users_id_fk",
          "tableFrom": "credit_wallets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "credit_wallets_user_id_unique": {
          "name": "credit_wallets_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_events": {
      "name": "device_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_summary": {
          "name": "request_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_rate_limits": {
      "name": "device_rate_limits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokens": {
          "name": "tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "last_refill_at": {
          "name": "last_refill_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "device_rate_limits_device_id_orbit_slug_unique": {
          "name": "device_rate_limits_device_id_orbit_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_id",
            "orbit_slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_sessions": {
      "name": "device_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_label": {
          "name": "device_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"orbit:read\",\"orbit:ask\"}'"
        },
        "pairing_code": {
          "name": "pairing_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pairing_expires_at": {
          "name": "pairing_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_ip": {
          "name": "last_seen_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "device_sessions_device_id_unique": {
          "name": "device_sessions_device_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.domain_risk": {
      "name": "domain_risk",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hostname": {
          "name": "hostname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_success_at": {
          "name": "last_success_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_delay_ms": {
          "name": "recommended_delay_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2000
        },
        "friction_count": {
          "name": "friction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_friction_codes": {
          "name": "last_friction_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_outcome": {
          "name": "last_outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "domain_risk_hostname_unique": {
          "name": "domain_risk_hostname_unique",
          "nullsNotDistinct": false,
          "columns": [
            "hostname"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.entitlements": {
      "name": "entitlements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "can_use_cloud_llm": {
          "name": "can_use_cloud_llm",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_generate_images": {
          "name": "can_generate_images",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_export": {
          "name": "can_export",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_use_character_chat": {
          "name": "can_use_character_chat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_cards_per_story": {
          "name": "max_cards_per_story",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "storage_days": {
          "name": "storage_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7
        },
        "collaboration_roles": {
          "name": "collaboration_roles",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "can_upload_media": {
          "name": "can_upload_media",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "storage_quota_bytes": {
          "name": "storage_quota_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "entitlements_user_id_users_id_fk": {
          "name": "entitlements_user_id_users_id_fk",
          "tableFrom": "entitlements",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "entitlements_user_id_unique": {
          "name": "entitlements_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_json": {
          "name": "metadata_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "events_user_id_users_id_fk": {
          "name": "events_user_id_users_id_fk",
          "tableFrom": "events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hero_post_insights": {
      "name": "hero_post_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "top_themes": {
          "name": "top_themes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_hooks": {
          "name": "top_hooks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "top_proof_types": {
          "name": "top_proof_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggestions": {
          "name": "suggestions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "brand_voice_summary": {
          "name": "brand_voice_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "voice_traits": {
          "name": "voice_traits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "audience_notes": {
          "name": "audience_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tone_guidance": {
          "name": "tone_guidance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "brand_voice_updated_at": {
          "name": "brand_voice_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "post_count": {
          "name": "post_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hero_post_insights_business_slug_orbit_meta_business_slug_fk": {
          "name": "hero_post_insights_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "hero_post_insights",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hero_post_insights_business_slug_unique": {
          "name": "hero_post_insights_business_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "business_slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hero_posts": {
      "name": "hero_posts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_platform": {
          "name": "source_platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author_name": {
          "name": "author_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "author_type": {
          "name": "author_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "business_voice_id": {
          "name": "business_voice_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_note": {
          "name": "outcome_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "performed_because": {
          "name": "performed_because",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "og_image_url": {
          "name": "og_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "og_description": {
          "name": "og_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extracted": {
          "name": "extracted",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "use_as_knowledge": {
          "name": "use_as_knowledge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "hero_posts_business_slug_orbit_meta_business_slug_fk": {
          "name": "hero_posts_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "hero_posts",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hero_posts_created_by_user_id_users_id_fk": {
          "name": "hero_posts_created_by_user_id_users_id_fk",
          "tableFrom": "hero_posts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hero_posts_business_slug_url_unique": {
          "name": "hero_posts_business_slug_url_unique",
          "nullsNotDistinct": false,
          "columns": [
            "business_slug",
            "url"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_analytics_events": {
      "name": "ice_analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "draft_id": {
          "name": "draft_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creator_id": {
          "name": "creator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ref": {
          "name": "ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visitor_ip": {
          "name": "visitor_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_analytics_events_ice_id_ice_previews_id_fk": {
          "name": "ice_analytics_events_ice_id_ice_previews_id_fk",
          "tableFrom": "ice_analytics_events",
          "tableTo": "ice_previews",
          "columnsFrom": [
            "ice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_analytics_events_draft_id_ice_drafts_id_fk": {
          "name": "ice_analytics_events_draft_id_ice_drafts_id_fk",
          "tableFrom": "ice_analytics_events",
          "tableTo": "ice_drafts",
          "columnsFrom": [
            "draft_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_analytics_events_creator_id_users_id_fk": {
          "name": "ice_analytics_events_creator_id_users_id_fk",
          "tableFrom": "ice_analytics_events",
          "tableTo": "users",
          "columnsFrom": [
            "creator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_card_message_reactions": {
      "name": "ice_card_message_reactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "anon_fingerprint": {
          "name": "anon_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_type": {
          "name": "reaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_card_message_reactions_message_id_ice_card_messages_id_fk": {
          "name": "ice_card_message_reactions_message_id_ice_card_messages_id_fk",
          "tableFrom": "ice_card_message_reactions",
          "tableTo": "ice_card_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_card_message_reactions_user_id_users_id_fk": {
          "name": "ice_card_message_reactions_user_id_users_id_fk",
          "tableFrom": "ice_card_message_reactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_card_messages": {
      "name": "ice_card_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ice_card_id": {
          "name": "ice_card_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ice_preview_id": {
          "name": "ice_preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ice_card_messages_card": {
          "name": "idx_ice_card_messages_card",
          "columns": [
            {
              "expression": "ice_card_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ice_card_messages_preview": {
          "name": "idx_ice_card_messages_preview",
          "columns": [
            {
              "expression": "ice_preview_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ice_card_messages_user_id_users_id_fk": {
          "name": "ice_card_messages_user_id_users_id_fk",
          "tableFrom": "ice_card_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_drafts": {
      "name": "ice_drafts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'launchpad'"
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insight_id": {
          "name": "insight_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tone": {
          "name": "tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output_type": {
          "name": "output_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headline": {
          "name": "headline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captions": {
          "name": "captions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cta_text": {
          "name": "cta_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preview_frame_url": {
          "name": "preview_frame_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "orbit_type": {
          "name": "orbit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_message_id": {
          "name": "source_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "view_type": {
          "name": "view_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "view_data": {
          "name": "view_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "summary_text": {
          "name": "summary_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sources": {
          "name": "sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "template_type": {
          "name": "template_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_cards": {
          "name": "generated_cards",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deep_link": {
          "name": "deep_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "orbit_view_state": {
          "name": "orbit_view_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cta_label": {
          "name": "cta_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Ask in Orbit'"
        },
        "cta_link": {
          "name": "cta_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "published_ice_id": {
          "name": "published_ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_drafts_user_id_users_id_fk": {
          "name": "ice_drafts_user_id_users_id_fk",
          "tableFrom": "ice_drafts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_drafts_business_slug_orbit_meta_business_slug_fk": {
          "name": "ice_drafts_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "ice_drafts",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_drafts_published_ice_id_ice_previews_id_fk": {
          "name": "ice_drafts_published_ice_id_ice_previews_id_fk",
          "tableFrom": "ice_drafts",
          "tableTo": "ice_previews",
          "columnsFrom": [
            "published_ice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_leads": {
      "name": "ice_leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visitor_ip": {
          "name": "visitor_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referrer": {
          "name": "referrer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_leads_ice_id_ice_previews_id_fk": {
          "name": "ice_leads_ice_id_ice_previews_id_fk",
          "tableFrom": "ice_leads",
          "tableTo": "ice_previews",
          "columnsFrom": [
            "ice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_likes": {
      "name": "ice_likes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_likes_profile_id_creator_profiles_id_fk": {
          "name": "ice_likes_profile_id_creator_profiles_id_fk",
          "tableFrom": "ice_likes",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_moderation": {
      "name": "ice_moderation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "draft_id": {
          "name": "draft_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_moderation_draft_id_ice_drafts_id_fk": {
          "name": "ice_moderation_draft_id_ice_drafts_id_fk",
          "tableFrom": "ice_moderation",
          "tableTo": "ice_drafts",
          "columnsFrom": [
            "draft_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_moderation_submitted_by_users_id_fk": {
          "name": "ice_moderation_submitted_by_users_id_fk",
          "tableFrom": "ice_moderation",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_moderation_reviewed_by_users_id_fk": {
          "name": "ice_moderation_reviewed_by_users_id_fk",
          "tableFrom": "ice_moderation",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ice_previews": {
      "name": "ice_previews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_ip": {
          "name": "owner_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "claim_token_hash": {
          "name": "claim_token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "claim_token_used_at": {
          "name": "claim_token_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_value": {
          "name": "source_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "fidelity_mode": {
          "name": "fidelity_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'interpretive'"
        },
        "scene_map": {
          "name": "scene_map",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_context": {
          "name": "content_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cards": {
          "name": "cards",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "characters": {
          "name": "characters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "interactivity_nodes": {
          "name": "interactivity_nodes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'short'"
        },
        "project_bible": {
          "name": "project_bible",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "music_track_url": {
          "name": "music_track_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "music_volume": {
          "name": "music_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 15
        },
        "narration_volume": {
          "name": "narration_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "music_enabled": {
          "name": "music_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "title_pack_id": {
          "name": "title_pack_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'cinematic-subtitles'"
        },
        "caption_settings": {
          "name": "caption_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "caption_timing_mode": {
          "name": "caption_timing_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'aligned'"
        },
        "alignment_transcript": {
          "name": "alignment_transcript",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "alignment_status": {
          "name": "alignment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unlisted'"
        },
        "share_slug": {
          "name": "share_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_gate_enabled": {
          "name": "lead_gate_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lead_gate_prompt": {
          "name": "lead_gate_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_enabled": {
          "name": "logo_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_position": {
          "name": "logo_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'top-right'"
        },
        "brand_accent_color": {
          "name": "brand_accent_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admin_cta_enabled": {
          "name": "admin_cta_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "promoted_to_job_id": {
          "name": "promoted_to_job_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ice_previews_owner_user_id_users_id_fk": {
          "name": "ice_previews_owner_user_id_users_id_fk",
          "tableFrom": "ice_previews",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ice_previews_promoted_to_job_id_transformation_jobs_id_fk": {
          "name": "ice_previews_promoted_to_job_id_transformation_jobs_id_fk",
          "tableFrom": "ice_previews",
          "tableTo": "transformation_jobs",
          "columnsFrom": [
            "promoted_to_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ice_previews_share_slug_unique": {
          "name": "ice_previews_share_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "share_slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industry_assets": {
      "name": "industry_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "asset_type": {
          "name": "asset_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "storage_url": {
          "name": "storage_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thumb_url": {
          "name": "thumb_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "industry_assets_orbit_id_orbit_meta_id_fk": {
          "name": "industry_assets_orbit_id_orbit_meta_id_fk",
          "tableFrom": "industry_assets",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industry_entities": {
      "name": "industry_entities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region_tags": {
          "name": "region_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "trust_level": {
          "name": "trust_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'independent'"
        },
        "logo_asset_id": {
          "name": "logo_asset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "social_urls": {
          "name": "social_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "industry_entities_orbit_id_orbit_meta_id_fk": {
          "name": "industry_entities_orbit_id_orbit_meta_id_fk",
          "tableFrom": "industry_entities",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industry_products": {
      "name": "industry_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "manufacturer_entity_id": {
          "name": "manufacturer_entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'consumer'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'announced'"
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "primary_url": {
          "name": "primary_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hero_asset_id": {
          "name": "hero_asset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "media_refs": {
          "name": "media_refs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "reference_urls": {
          "name": "reference_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "intent_tags": {
          "name": "intent_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "industry_products_orbit_id_orbit_meta_id_fk": {
          "name": "industry_products_orbit_id_orbit_meta_id_fk",
          "tableFrom": "industry_products",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "industry_products_manufacturer_entity_id_industry_entities_id_fk": {
          "name": "industry_products_manufacturer_entity_id_industry_entities_id_fk",
          "tableFrom": "industry_products",
          "tableTo": "industry_entities",
          "columnsFrom": [
            "manufacturer_entity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industry_reviews": {
      "name": "industry_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_entity_id": {
          "name": "reviewer_entity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rating_value": {
          "name": "rating_value",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "rating_scale": {
          "name": "rating_scale",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "industry_reviews_orbit_id_orbit_meta_id_fk": {
          "name": "industry_reviews_orbit_id_orbit_meta_id_fk",
          "tableFrom": "industry_reviews",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "industry_reviews_product_id_industry_products_id_fk": {
          "name": "industry_reviews_product_id_industry_products_id_fk",
          "tableFrom": "industry_reviews",
          "tableTo": "industry_products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "industry_reviews_reviewer_entity_id_industry_entities_id_fk": {
          "name": "industry_reviews_reviewer_entity_id_industry_entities_id_fk",
          "tableFrom": "industry_reviews",
          "tableTo": "industry_entities",
          "columnsFrom": [
            "reviewer_entity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ingestion_runs": {
      "name": "ingestion_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discovery_sources": {
          "name": "discovery_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pages_planned": {
          "name": "pages_planned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "pages_fetched": {
          "name": "pages_fetched",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "pages_used": {
          "name": "pages_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_hits": {
          "name": "cache_hits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_misses": {
          "name": "cache_misses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_writes": {
          "name": "cache_writes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "friction_signals": {
          "name": "friction_signals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "domain_risk_score": {
          "name": "domain_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ingestion_runs_business_slug_orbit_meta_business_slug_fk": {
          "name": "ingestion_runs_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "ingestion_runs",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "location_slug": {
          "name": "location_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "continuity": {
          "name": "continuity",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "locations_universe_id_universes_id_fk": {
          "name": "locations_universe_id_universes_id_fk",
          "tableFrom": "locations",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.magic_links": {
      "name": "magic_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "magic_links_user_id_users_id_fk": {
          "name": "magic_links_user_id_users_id_fk",
          "tableFrom": "magic_links",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "magic_links_orbit_id_orbit_meta_id_fk": {
          "name": "magic_links_orbit_id_orbit_meta_id_fk",
          "tableFrom": "magic_links",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "magic_links_token_unique": {
          "name": "magic_links_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_assets": {
      "name": "media_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_key": {
          "name": "file_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "media_assets_profile_id_creator_profiles_id_fk": {
          "name": "media_assets_profile_id_creator_profiles_id_fk",
          "tableFrom": "media_assets",
          "tableTo": "creator_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email_enabled": {
          "name": "email_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "email_cadence": {
          "name": "email_cadence",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'daily_digest'"
        },
        "lead_alerts_enabled": {
          "name": "lead_alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "conversation_alerts_enabled": {
          "name": "conversation_alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "intelligence_alerts_enabled": {
          "name": "intelligence_alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ice_alerts_enabled": {
          "name": "ice_alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "quiet_hours_enabled": {
          "name": "quiet_hours_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "quiet_start_hour": {
          "name": "quiet_start_hour",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quiet_end_hour": {
          "name": "quiet_end_hour",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_preferences_user_id_users_id_fk": {
          "name": "notification_preferences_user_id_users_id_fk",
          "tableFrom": "notification_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_preferences_user_id_unique": {
          "name": "notification_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sent_email_at": {
          "name": "sent_email_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dedupe_key": {
          "name": "dedupe_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_orbit_id_orbit_meta_id_fk": {
          "name": "notifications_orbit_id_orbit_meta_id_fk",
          "tableFrom": "notifications",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_analytics": {
      "name": "orbit_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "visits": {
          "name": "visits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "interactions": {
          "name": "interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversations": {
          "name": "conversations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ice_views": {
          "name": "ice_views",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_visitors": {
          "name": "unique_visitors",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_session_duration": {
          "name": "avg_session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "top_questions": {
          "name": "top_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "top_topics": {
          "name": "top_topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_analytics_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_analytics_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_analytics",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_boxes": {
      "name": "orbit_boxes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "box_type": {
          "name": "box_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "ice_id": {
          "name": "ice_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'GBP'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subcategory": {
          "name": "subcategory",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "availability": {
          "name": "availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'available'"
        },
        "popularity_score": {
          "name": "popularity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_boxes_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_boxes_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_boxes",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_claim_tokens": {
      "name": "orbit_claim_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain_match": {
          "name": "domain_match",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_claim_tokens_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_claim_tokens_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_claim_tokens",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orbit_claim_tokens_token_unique": {
          "name": "orbit_claim_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_conversations": {
      "name": "orbit_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visitor_id": {
          "name": "visitor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "engaged_box_ids": {
          "name": "engaged_box_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "engaged_ice_ids": {
          "name": "engaged_ice_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "lead_generated": {
          "name": "lead_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_questions": {
          "name": "extracted_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_themes": {
          "name": "extracted_themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "proof_capture_triggered_at": {
          "name": "proof_capture_triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "proof_capture_social_proof_id": {
          "name": "proof_capture_social_proof_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_conversations_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_conversations_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_conversations",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_conversations_session_id_orbit_sessions_session_id_fk": {
          "name": "orbit_conversations_session_id_orbit_sessions_session_id_fk",
          "tableFrom": "orbit_conversations",
          "tableTo": "orbit_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_cube_orders": {
      "name": "orbit_cube_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cube_id": {
          "name": "cube_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_checkout_session_id": {
          "name": "stripe_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hardware_price_gbp": {
          "name": "hardware_price_gbp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 29900
        },
        "monthly_price_gbp": {
          "name": "monthly_price_gbp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2900
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'created'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_cube_orders_orbit_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_cube_orders_orbit_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_cube_orders",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_cube_orders_cube_id_orbit_cubes_id_fk": {
          "name": "orbit_cube_orders_cube_id_orbit_cubes_id_fk",
          "tableFrom": "orbit_cube_orders",
          "tableTo": "orbit_cubes",
          "columnsFrom": [
            "cube_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_cubes": {
      "name": "orbit_cubes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "cube_uuid": {
          "name": "cube_uuid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Orbit Cube'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending_pairing'"
        },
        "pairing_code": {
          "name": "pairing_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pairing_code_expires_at": {
          "name": "pairing_code_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "device_token_hash": {
          "name": "device_token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sleep_timeout_minutes": {
          "name": "sleep_timeout_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_ip": {
          "name": "last_seen_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_cubes_orbit_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_cubes_orbit_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_cubes",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_cubes_owner_user_id_users_id_fk": {
          "name": "orbit_cubes_owner_user_id_users_id_fk",
          "tableFrom": "orbit_cubes",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orbit_cubes_cube_uuid_unique": {
          "name": "orbit_cubes_cube_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "cube_uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_documents": {
      "name": "orbit_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by_user_id": {
          "name": "uploaded_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'other'"
        },
        "extracted_text": {
          "name": "extracted_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page_count": {
          "name": "page_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'uploading'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_documents_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_documents_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_documents",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_documents_uploaded_by_user_id_users_id_fk": {
          "name": "orbit_documents_uploaded_by_user_id_users_id_fk",
          "tableFrom": "orbit_documents",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_events": {
      "name": "orbit_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "box_id": {
          "name": "box_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ice_id": {
          "name": "ice_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata_json": {
          "name": "metadata_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_events_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_events_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_events",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_events_session_id_orbit_sessions_session_id_fk": {
          "name": "orbit_events_session_id_orbit_sessions_session_id_fk",
          "tableFrom": "orbit_events",
          "tableTo": "orbit_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "session_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_events_box_id_orbit_boxes_id_fk": {
          "name": "orbit_events_box_id_orbit_boxes_id_fk",
          "tableFrom": "orbit_events",
          "tableTo": "orbit_boxes",
          "columnsFrom": [
            "box_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_insights_summary": {
      "name": "orbit_insights_summary",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_count": {
          "name": "conversation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "leads_count": {
          "name": "leads_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "top_questions": {
          "name": "top_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "top_themes": {
          "name": "top_themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "unanswered_questions": {
          "name": "unanswered_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_insights_summary_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_insights_summary_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_insights_summary",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_knowledge_prompts": {
      "name": "orbit_knowledge_prompts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impact_score": {
          "name": "impact_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "gap_source": {
          "name": "gap_source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gap_context": {
          "name": "gap_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_destination": {
          "name": "suggested_destination",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggested_box_id": {
          "name": "suggested_box_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "answer_text": {
          "name": "answer_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filed_destination": {
          "name": "filed_destination",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filed_box_id": {
          "name": "filed_box_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "answered_at": {
          "name": "answered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "filed_at": {
          "name": "filed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "week_number": {
          "name": "week_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_knowledge_prompts_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_knowledge_prompts_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_knowledge_prompts",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_knowledge_prompts_suggested_box_id_orbit_boxes_id_fk": {
          "name": "orbit_knowledge_prompts_suggested_box_id_orbit_boxes_id_fk",
          "tableFrom": "orbit_knowledge_prompts",
          "tableTo": "orbit_boxes",
          "columnsFrom": [
            "suggested_box_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_knowledge_prompts_filed_box_id_orbit_boxes_id_fk": {
          "name": "orbit_knowledge_prompts_filed_box_id_orbit_boxes_id_fk",
          "tableFrom": "orbit_knowledge_prompts",
          "tableTo": "orbit_boxes",
          "columnsFrom": [
            "filed_box_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_leads": {
      "name": "orbit_leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'orbit'"
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "box_id": {
          "name": "box_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_question": {
          "name": "last_question",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_leads_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_leads_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_leads",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_messages": {
      "name": "orbit_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_messages_conversation_id_orbit_conversations_id_fk": {
          "name": "orbit_messages_conversation_id_orbit_conversations_id_fk",
          "tableFrom": "orbit_messages",
          "tableTo": "orbit_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_meta": {
      "name": "orbit_meta",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "orbit_type": {
          "name": "orbit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "preview_id": {
          "name": "preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_pack_version": {
          "name": "current_pack_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_pack_key": {
          "name": "current_pack_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "owner_email": {
          "name": "owner_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "generation_status": {
          "name": "generation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "generation_job_id": {
          "name": "generation_job_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_logo": {
          "name": "custom_logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_accent": {
          "name": "custom_accent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_tone": {
          "name": "custom_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_title": {
          "name": "custom_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_description": {
          "name": "custom_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_tier": {
          "name": "plan_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "strength_score": {
          "name": "strength_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ice_allowance_monthly": {
          "name": "ice_allowance_monthly",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ice_used_this_period": {
          "name": "ice_used_this_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ice_period_start": {
          "name": "ice_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "proof_capture_enabled": {
          "name": "proof_capture_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "ai_indexing_enabled": {
          "name": "ai_indexing_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "auto_update_knowledge": {
          "name": "auto_update_knowledge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "ai_accuracy_alerts_enabled": {
          "name": "ai_accuracy_alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "weekly_reports_enabled": {
          "name": "weekly_reports_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "total_pack_versions": {
          "name": "total_pack_versions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_meta_preview_id_preview_instances_id_fk": {
          "name": "orbit_meta_preview_id_preview_instances_id_fk",
          "tableFrom": "orbit_meta",
          "tableTo": "preview_instances",
          "columnsFrom": [
            "preview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orbit_meta_owner_id_users_id_fk": {
          "name": "orbit_meta_owner_id_users_id_fk",
          "tableFrom": "orbit_meta",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orbit_meta_business_slug_unique": {
          "name": "orbit_meta_business_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "business_slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_sessions": {
      "name": "orbit_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visitor_id": {
          "name": "visitor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "event_count": {
          "name": "event_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lead_generated": {
          "name": "lead_generated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_sessions_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_sessions_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_sessions",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orbit_sessions_session_id_unique": {
          "name": "orbit_sessions_session_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_signal_access_log": {
      "name": "orbit_signal_access_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_slug": {
          "name": "orbit_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "accessed_at": {
          "name": "accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent_truncated": {
          "name": "user_agent_truncated",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'GET'"
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 200
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_signal_access_log_orbit_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_signal_access_log_orbit_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_signal_access_log",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_sources": {
      "name": "orbit_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_sources_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_sources_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_sources",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orbit_sources_business_slug_label_unique": {
          "name": "orbit_sources_business_slug_label_unique",
          "nullsNotDistinct": false,
          "columns": [
            "business_slug",
            "label"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_video_events": {
      "name": "orbit_video_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "video_id": {
          "name": "video_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ms_watched": {
          "name": "ms_watched",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "follow_up_question": {
          "name": "follow_up_question",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_video_events_video_id_orbit_videos_id_fk": {
          "name": "orbit_video_events_video_id_orbit_videos_id_fk",
          "tableFrom": "orbit_video_events",
          "tableTo": "orbit_videos",
          "columnsFrom": [
            "video_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orbit_video_events_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_video_events_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_video_events",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orbit_videos": {
      "name": "orbit_videos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "youtube_video_id": {
          "name": "youtube_video_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "youtube_url": {
          "name": "youtube_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "topics": {
          "name": "topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "transcript": {
          "name": "transcript",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "serve_count": {
          "name": "serve_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "play_count": {
          "name": "play_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_watch_time_ms": {
          "name": "total_watch_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orbit_videos_business_slug_orbit_meta_business_slug_fk": {
          "name": "orbit_videos_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "orbit_videos",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orbit_videos_created_by_user_id_users_id_fk": {
          "name": "orbit_videos_created_by_user_id_users_id_fk",
          "tableFrom": "orbit_videos",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plans": {
      "name": "plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_price": {
          "name": "monthly_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "yearly_price": {
          "name": "yearly_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_monthly": {
          "name": "stripe_price_id_monthly",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_yearly": {
          "name": "stripe_price_id_yearly",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plans_name_unique": {
          "name": "plans_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.preview_chat_messages": {
      "name": "preview_chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "preview_id": {
          "name": "preview_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "preview_chat_messages_preview_id_preview_instances_id_fk": {
          "name": "preview_chat_messages_preview_id_preview_instances_id_fk",
          "tableFrom": "preview_chat_messages",
          "tableTo": "preview_instances",
          "columnsFrom": [
            "preview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.preview_instances": {
      "name": "preview_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ip": {
          "name": "owner_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_domain": {
          "name": "source_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "site_identity": {
          "name": "site_identity",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "site_title": {
          "name": "site_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "site_summary": {
          "name": "site_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_services": {
          "name": "key_services",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "contact_info": {
          "name": "contact_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_messages": {
          "name": "max_messages",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 25
        },
        "ingested_pages_count": {
          "name": "ingested_pages_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_pages": {
          "name": "max_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 4
        },
        "total_chars_ingested": {
          "name": "total_chars_ingested",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_estimate_pence": {
          "name": "cost_estimate_pence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "llm_call_count": {
          "name": "llm_call_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_plan_id": {
          "name": "claimed_plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_checkout_session_id": {
          "name": "stripe_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "preview_instances_owner_user_id_users_id_fk": {
          "name": "preview_instances_owner_user_id_users_id_fk",
          "tableFrom": "preview_instances",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "preview_instances_claimed_plan_id_plans_id_fk": {
          "name": "preview_instances_claimed_plan_id_plans_id_fk",
          "tableFrom": "preview_instances",
          "tableTo": "plans",
          "columnsFrom": [
            "claimed_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_specs": {
      "name": "product_specs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "spec_key": {
          "name": "spec_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "spec_value": {
          "name": "spec_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "spec_unit": {
          "name": "spec_unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "product_specs_product_id_industry_products_id_fk": {
          "name": "product_specs_product_id_industry_products_id_fk",
          "tableFrom": "product_specs",
          "tableTo": "industry_products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pulse_events": {
      "name": "pulse_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pulse_source_id": {
          "name": "pulse_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "entity_refs": {
          "name": "entity_refs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pulse_events_orbit_id_orbit_meta_id_fk": {
          "name": "pulse_events_orbit_id_orbit_meta_id_fk",
          "tableFrom": "pulse_events",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pulse_events_pulse_source_id_pulse_sources_id_fk": {
          "name": "pulse_events_pulse_source_id_pulse_sources_id_fk",
          "tableFrom": "pulse_events",
          "tableTo": "pulse_sources",
          "columnsFrom": [
            "pulse_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pulse_snapshots": {
      "name": "pulse_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pulse_source_id": {
          "name": "pulse_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_excerpt": {
          "name": "content_excerpt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_storage_url": {
          "name": "raw_storage_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pulse_snapshots_pulse_source_id_pulse_sources_id_fk": {
          "name": "pulse_snapshots_pulse_source_id_pulse_sources_id_fk",
          "tableFrom": "pulse_snapshots",
          "tableTo": "pulse_sources",
          "columnsFrom": [
            "pulse_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pulse_sources": {
      "name": "pulse_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rss_url": {
          "name": "rss_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monitoring_method": {
          "name": "monitoring_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'page_monitor'"
        },
        "update_frequency": {
          "name": "update_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'weekly'"
        },
        "trust_level": {
          "name": "trust_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'independent'"
        },
        "event_types": {
          "name": "event_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "keyword_triggers": {
          "name": "keyword_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pulse_sources_orbit_id_orbit_meta_id_fk": {
          "name": "pulse_sources_orbit_id_orbit_meta_id_fk",
          "tableFrom": "pulse_sources",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.social_proof_items": {
      "name": "social_proof_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_message_id": {
          "name": "source_message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "raw_quote_text": {
          "name": "raw_quote_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clean_quote_text": {
          "name": "clean_quote_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic": {
          "name": "topic",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "specificity_score": {
          "name": "specificity_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "consent_status": {
          "name": "consent_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "consent_type": {
          "name": "consent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consent_timestamp": {
          "name": "consent_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "attribution_name": {
          "name": "attribution_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attribution_town": {
          "name": "attribution_town",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_variants": {
          "name": "generated_variants",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_placements": {
          "name": "recommended_placements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "social_proof_items_business_slug_orbit_meta_business_slug_fk": {
          "name": "social_proof_items_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "social_proof_items",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "social_proof_items_conversation_id_orbit_conversations_id_fk": {
          "name": "social_proof_items_conversation_id_orbit_conversations_id_fk",
          "tableFrom": "social_proof_items",
          "tableTo": "orbit_conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "social_proof_items_source_message_id_orbit_messages_id_fk": {
          "name": "social_proof_items_source_message_id_orbit_messages_id_fk",
          "tableFrom": "social_proof_items",
          "tableTo": "orbit_messages",
          "columnsFrom": [
            "source_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_credit_grant_period_end": {
          "name": "last_credit_grant_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscriptions_user_id_users_id_fk": {
          "name": "subscriptions_user_id_users_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_plan_id_plans_id_fk": {
          "name": "subscriptions_plan_id_plans_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.title_packs": {
      "name": "title_packs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'custom'"
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "title_packs_user_id_users_id_fk": {
          "name": "title_packs_user_id_users_id_fk",
          "tableFrom": "title_packs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "title_packs_slug_unique": {
          "name": "title_packs_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.topic_tiles": {
      "name": "topic_tiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "orbit_id": {
          "name": "orbit_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sublabel": {
          "name": "sublabel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intent_tags": {
          "name": "intent_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "badge_state": {
          "name": "badge_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "last_refreshed_at": {
          "name": "last_refreshed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_refs": {
          "name": "evidence_refs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "topic_tiles_orbit_id_orbit_meta_id_fk": {
          "name": "topic_tiles_orbit_id_orbit_meta_id_fk",
          "tableFrom": "topic_tiles",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "orbit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transformation_jobs": {
      "name": "transformation_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "source_file_name": {
          "name": "source_file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_file_path": {
          "name": "source_file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_source_type": {
          "name": "content_source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_industry": {
          "name": "content_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_category": {
          "name": "content_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_goal": {
          "name": "content_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "story_length": {
          "name": "story_length",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "current_stage": {
          "name": "current_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stage_statuses": {
          "name": "stage_statuses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "artifacts": {
          "name": "artifacts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_universe_id": {
          "name": "output_universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message_user": {
          "name": "error_message_user",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message_dev": {
          "name": "error_message_dev",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transformation_jobs_user_id_users_id_fk": {
          "name": "transformation_jobs_user_id_users_id_fk",
          "tableFrom": "transformation_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transformation_jobs_output_universe_id_universes_id_fk": {
          "name": "transformation_jobs_output_universe_id_universes_id_fk",
          "tableFrom": "transformation_jobs",
          "tableTo": "universes",
          "columnsFrom": [
            "output_universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tts_usage": {
      "name": "tts_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "chars_count": {
          "name": "chars_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "voice_id": {
          "name": "voice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tts_usage_user_id_users_id_fk": {
          "name": "tts_usage_user_id_users_id_fk",
          "tableFrom": "tts_usage",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tts_usage_universe_id_universes_id_fk": {
          "name": "tts_usage_universe_id_universes_id_fk",
          "tableFrom": "tts_usage",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tts_usage_card_id_cards_id_fk": {
          "name": "tts_usage_card_id_cards_id_fk",
          "tableFrom": "tts_usage",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_audio_settings": {
      "name": "universe_audio_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "audio_mode": {
          "name": "audio_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'off'"
        },
        "default_track_id": {
          "name": "default_track_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_track_ids": {
          "name": "allowed_track_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "fade_in_ms": {
          "name": "fade_in_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "fade_out_ms": {
          "name": "fade_out_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "crossfade_ms": {
          "name": "crossfade_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 800
        },
        "ducking_during_voice_over": {
          "name": "ducking_during_voice_over",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "duck_db": {
          "name": "duck_db",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 12
        }
      },
      "indexes": {},
      "foreignKeys": {
        "universe_audio_settings_universe_id_universes_id_fk": {
          "name": "universe_audio_settings_universe_id_universes_id_fk",
          "tableFrom": "universe_audio_settings",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "universe_audio_settings_default_track_id_audio_tracks_id_fk": {
          "name": "universe_audio_settings_default_track_id_audio_tracks_id_fk",
          "tableFrom": "universe_audio_settings",
          "tableTo": "audio_tracks",
          "columnsFrom": [
            "default_track_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universe_audio_settings_universe_id_unique": {
          "name": "universe_audio_settings_universe_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "universe_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_creators": {
      "name": "universe_creators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'owner'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "universe_creators_universe_id_universes_id_fk": {
          "name": "universe_creators_universe_id_universes_id_fk",
          "tableFrom": "universe_creators",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "universe_creators_user_id_users_id_fk": {
          "name": "universe_creators_user_id_users_id_fk",
          "tableFrom": "universe_creators",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_reference_assets": {
      "name": "universe_reference_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "asset_type": {
          "name": "asset_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_path": {
          "name": "image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail_path": {
          "name": "thumbnail_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_notes": {
          "name": "prompt_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "universe_reference_assets_universe_id_universes_id_fk": {
          "name": "universe_reference_assets_universe_id_universes_id_fk",
          "tableFrom": "universe_reference_assets",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "universe_reference_assets_character_id_characters_id_fk": {
          "name": "universe_reference_assets_character_id_characters_id_fk",
          "tableFrom": "universe_reference_assets",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "universe_reference_assets_location_id_locations_id_fk": {
          "name": "universe_reference_assets_location_id_locations_id_fk",
          "tableFrom": "universe_reference_assets",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universes": {
      "name": "universes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "style_notes": {
          "name": "style_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ice_status": {
          "name": "ice_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "active_since": {
          "name": "active_since",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "visual_mode": {
          "name": "visual_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'author_supplied'"
        },
        "visual_style": {
          "name": "visual_style",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "visual_continuity": {
          "name": "visual_continuity",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "design_guide": {
          "name": "design_guide",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "chat_policy": {
          "name": "chat_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source_guardrails": {
          "name": "source_guardrails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "release_mode": {
          "name": "release_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "intro_cards_count": {
          "name": "intro_cards_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "daily_release_starts_at_day_index": {
          "name": "daily_release_starts_at_day_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "default_narration_enabled": {
          "name": "default_narration_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_narration_voice": {
          "name": "default_narration_voice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_narration_speed": {
          "name": "default_narration_speed",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "default_narration_mode": {
          "name": "default_narration_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "narration_style_notes": {
          "name": "narration_style_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "universes_owner_user_id_users_id_fk": {
          "name": "universes_owner_user_id_users_id_fk",
          "tableFrom": "universes",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "universes_slug_unique": {
          "name": "universes_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.url_fetch_cache": {
      "name": "url_fetch_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hostname": {
          "name": "hostname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_length": {
          "name": "content_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_http_status": {
          "name": "last_http_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fetch_count": {
          "name": "fetch_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "url_fetch_cache_url_unique": {
          "name": "url_fetch_cache_url_unique",
          "nullsNotDistinct": false,
          "columns": [
            "url"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_onboarding_profiles": {
      "name": "user_onboarding_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "persona": {
          "name": "persona",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "team_size": {
          "name": "team_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goals": {
          "name": "goals",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_audience": {
          "name": "target_audience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_frequency": {
          "name": "content_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "onboarding_dismissed": {
          "name": "onboarding_dismissed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "onboarding_path": {
          "name": "onboarding_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed_at": {
          "name": "onboarding_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_onboarding_profiles_user_id_users_id_fk": {
          "name": "user_onboarding_profiles_user_id_users_id_fk",
          "tableFrom": "user_onboarding_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_onboarding_profiles_user_id_unique": {
          "name": "user_onboarding_profiles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_progress": {
      "name": "user_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "universe_id": {
          "name": "universe_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "unlocked_day_index": {
          "name": "unlocked_day_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_streak": {
          "name": "current_streak",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_progress_user_id_users_id_fk": {
          "name": "user_progress_user_id_users_id_fk",
          "tableFrom": "user_progress",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_progress_universe_id_universes_id_fk": {
          "name": "user_progress_universe_id_universes_id_fk",
          "tableFrom": "user_progress",
          "tableTo": "universes",
          "columnsFrom": [
            "universe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_storage_usage": {
      "name": "user_storage_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_bytes_used": {
          "name": "total_bytes_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "image_count": {
          "name": "image_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "video_count": {
          "name": "video_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_storage_usage_user_id_users_id_fk": {
          "name": "user_storage_usage_user_id_users_id_fk",
          "tableFrom": "user_storage_usage",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_storage_usage_user_id_unique": {
          "name": "user_storage_usage_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "free_pass_expires_at": {
          "name": "free_pass_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.video_export_jobs": {
      "name": "video_export_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "business_slug": {
          "name": "business_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ice_draft_id": {
          "name": "ice_draft_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality": {
          "name": "quality",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'mp4'"
        },
        "include_narration": {
          "name": "include_narration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "include_music": {
          "name": "include_music",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "title_pack_id": {
          "name": "title_pack_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "progress": {
          "name": "progress",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_step": {
          "name": "current_step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_url": {
          "name": "output_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output_size_bytes": {
          "name": "output_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_duration_seconds": {
          "name": "output_duration_seconds",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "video_export_jobs_user_id_users_id_fk": {
          "name": "video_export_jobs_user_id_users_id_fk",
          "tableFrom": "video_export_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "video_export_jobs_business_slug_orbit_meta_business_slug_fk": {
          "name": "video_export_jobs_business_slug_orbit_meta_business_slug_fk",
          "tableFrom": "video_export_jobs",
          "tableTo": "orbit_meta",
          "columnsFrom": [
            "business_slug"
          ],
          "columnsTo": [
            "business_slug"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "video_export_jobs_ice_draft_id_ice_drafts_id_fk": {
          "name": "video_export_jobs_ice_draft_id_ice_drafts_id_fk",
          "tableFrom": "video_export_jobs",
          "tableTo": "ice_drafts",
          "columnsFrom": [
            "ice_draft_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "video_export_jobs_title_pack_id_title_packs_id_fk": {
          "name": "video_export_jobs_title_pack_id_title_packs_id_fk",
          "tableFrom": "video_export_jobs",
          "tableTo": "title_packs",
          "columnsFrom": [
            "title_pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "video_export_jobs_job_id_unique": {
          "name": "video_export_jobs_job_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "job_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}